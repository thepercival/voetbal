Voetbal\Competition:
    type: entity
    repositoryClass: Voetbal\Competition\Repository
    table: competitions
    id:
        id:
            type: integer
            nullable: false
            id: true
            column: id
            generator:
                strategy: AUTO
    fields:
        ruleSet:
          type: smallint
          unique: false
          nullable: false
        state:
            type: smallint
            default:  !php/const Voetbal\State::Created
            nullable: false
            unique: false
        startDateTime:
            type: datetime_immutable
            unique: false
            nullable: false
    oneToMany:
        roundNumbers:
            targetEntity: Voetbal\Round\Number
            mappedBy: competition
            fetch: EXTRA_LAZY
            cascade: [ remove ]
        referees:
            targetEntity: Voetbal\Referee
            mappedBy: competition
            fetch: EXTRA_LAZY
            cascade: [ remove ]
        sportConfigs:
            targetEntity: Voetbal\Sport\Config
            mappedBy: competition
            fetch: EXTRA_LAZY
            cascade: [ remove ]
        fields:
            targetEntity: Voetbal\Field
            mappedBy: competition
            fetch: EXTRA_LAZY
            cascade: [ remove ] # persist removed
#        externals:
#          targetEntity: Voetbal\Competition
#          mappedBy: importableObject
    manyToOne:
        league:
            targetEntity: Voetbal\League
            inversedBy: competitions
            joinColumn:
              name: leagueid
              referencedColumnName: id
              nullable: false
              onDelete: CASCADE
            cascade: [ persist ]
        season:
            targetEntity: Voetbal\Season
            inversedBy: competitions
            joinColumn:
              name: seasonid
              referencedColumnName: id
              nullable: false
            cascade: [ persist ]
    uniqueConstraints:
        main_u_idx:
            columns: [ leagueid, seasonid ]